```{r}
library(tidyverse)

# from @drob

passwords <- read_csv("data/aoc_02.txt", col_names = "policy") %>% 
  extract(policy,
          c("min", "max", "letter", "password"),
          "(\\d+)-(\\d+) (.): *(.*)",
          convert = TRUE)
```

```{r}
passwords %>% 
  mutate(count = map2_int(password, letter, str_count)) %>% 
  filter(count>= min & count <= max) %>% 
  nrow()
```

```{r}
passwords %>% 
  mutate(count = (str_sub(password, min, min) == letter) +
                           (str_sub(password, max, max) == letter)) %>% 
  filter(count == 1)
```


